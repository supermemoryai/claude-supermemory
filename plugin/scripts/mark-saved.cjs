#!/usr/bin/env node
var o=require("node:fs"),r=require("node:path"),i=require("node:os"),n=r.join(i.homedir(),".supermemory-claude","trackers");function c(){let t=process.argv[2];t||(console.log(JSON.stringify({error:"Usage: mark-saved.cjs <session_id>"})),process.exit(1));let e=r.join(n,`${t}.activity.json`);try{if(!o.existsSync(e)){console.log(JSON.stringify({success:!0,message:"No activity to mark"}));return}let s=JSON.parse(o.readFileSync(e,"utf-8"));s.last_save_at_tool_count=s.tool_uses,s.last_saved_at=new Date().toISOString(),o.writeFileSync(e,JSON.stringify(s,null,2)),console.log(JSON.stringify({success:!0,tool_uses:s.tool_uses}))}catch(s){console.log(JSON.stringify({error:s.message})),process.exit(1)}}c();
