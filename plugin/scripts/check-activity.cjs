#!/usr/bin/env node
var i=require("node:fs"),r=require("node:path"),n=require("node:os"),a=r.join(n.homedir(),".supermemory-claude","trackers");function l(){let o=process.argv[2];o||(console.log(JSON.stringify({error:"Usage: check-activity.cjs <session_id>"})),process.exit(1));let e=r.join(a,`${o}.activity.json`);try{if(!i.existsSync(e)){console.log(JSON.stringify({tool_uses:0,since_last_save:0,should_prompt:!1}));return}let s=JSON.parse(i.readFileSync(e,"utf-8")),t=s.tool_uses-(s.last_save_at_tool_count||0),c=t>=5;console.log(JSON.stringify({...s,since_last_save:t,should_prompt:c}))}catch(s){console.log(JSON.stringify({error:s.message})),process.exit(1)}}l();
